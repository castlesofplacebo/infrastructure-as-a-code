## Цель работы

Научиться писать Molecule-тесты для ролей

## ToDo:
1. Разобраться с комментариями

2. Добавить поддержку нескольких клиентов (через with)

3. Попинговать клиентов в сети VPN

4. Протестировать трафик в интернет через сервис OVPN (спойлер - сейчас не идет)

5. Возможность поднять сервер и клиент на отдельных тачках в молекуле

6. Донастроить converge для локального тестирования через клиент openvpn (разобраться с сетевыми интерфейсами)

? Возможность запуска роли на нескольких группах машин


## Рекомендуемая документация

- [Habr об OpenVPN](https://habr.com/ru/post/233971/)
- [VPN: ещё раз просто о сложном](https://habr.com/ru/post/534250/)
- [Урок из Школы DevOps: Тестирование ролей в Molecule](https://www.youtube.com/watch?v=0b3YXlffo1Q)
- [Статья про Molecule — тестируем роли Ansible](https://habr.com/ru/post/437216/)

## Ход работы

1. Написать Ansible Playbook поднимающий OpenVPN сервер
2. Через Molecule инициировать структуру для роли и вынести задачи поднятия сервера, с конфигурацией через переменные
3. При завершении работы плейбук должен разместить в playbook-dir артефактный ovpn-файл для подключения
4. Роль должна проходить стандартные тестами molecule test
5. Плейбук подключает роль через ansible-galaxy